<div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
    <div class="flex items-center justify-between cursor-pointer" data-toggle="logsSection">
        <h3 class="text-lg font-semibold text-gray-800">–õ–æ–≥–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏</h3>
        <svg class="w-5 h-5 text-gray-500" id="logsIcon" fill="none"
            stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
    </div>
    <div id="logsContent" class="collapsible-content mt-4" style="display: none;">
        <div class="h-64 overflow-y-auto space-y-2">
        <div id="logsContainer">
            {% if logs %}
            {% for log in logs %}
            <div class="bg-white border border-gray-200 rounded p-3 cursor-pointer hover:bg-gray-50 transition-colors"
                data-toggle="logDetails">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-3">
                        <span class="px-2 py-1 rounded text-xs font-medium {% if log.status == 'error' %}bg-red-100 text-red-800{% elif log.status == 'warning' %}bg-yellow-100 text-yellow-800{% else %}bg-blue-100 text-blue-800{% endif %}">
                            {{ log.status|upper }}
                        </span>
                        <span class="text-sm text-gray-700">{{ log.action|localize_action }}</span>
                    </div>
                    <span class="text-xs text-gray-500">{{ log.timestamp.strftime('%d.%m.%Y %H:%M') }}</span>
                </div>
                <div class="log-details collapsible-content mt-3 pt-3 border-t border-gray-200" style="display: none;">
                    <div class="text-sm text-gray-700 space-y-2">
                        {% if log.details and log.details.message %}
                        <div class="bg-blue-50 p-3 rounded">
                            <strong class="text-blue-800">–°–æ–æ–±—â–µ–Ω–∏–µ:</strong>
                            <div class="mt-1">{{ localize_log_message(log.action, log.details.message, log.details) }}</div>
                        </div>
                        {% endif %}
                        
                        {% if log.execution_time_ms %}
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</span>
                            <span class="font-mono text-sm">{{ log.execution_time_ms }}–º—Å</span>
                        </div>
                        {% endif %}
                        
                        {% if log.details %}
                        <div class="space-y-2">
                            {% for key, value in log.details.items() %}
                            {% if key not in ['message'] %}
                            <div class="flex justify-between items-start">
                                <span class="text-gray-600 capitalize">{{ key.replace('_', ' ') }}:</span>
                                <div class="text-right max-w-xs">
                                    {% if value is string and value|length > 50 %}
                                    <span class="font-mono text-xs break-all">{{ value[:50] }}...</span>
                                    {% elif value is number %}
                                    <span class="font-mono">{{ value }}</span>
                                    {% elif value is boolean %}
                                    <span class="px-2 py-1 rounded text-xs {% if value %}bg-green-100 text-green-800{% else %}bg-red-100 text-red-800{% endif %}">
                                        {{ '–î–∞' if value else '–ù–µ—Ç' }}
                                    </span>
                                    {% else %}
                                    <span class="font-mono text-xs">{{ value }}</span>
                                    {% endif %}
                                </div>
                            </div>
                            {% endif %}
                            {% endfor %}
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
            {% else %}
            <div class="text-center py-8 text-gray-500">
                <div class="text-4xl mb-2">üìù</div>
                <div>–õ–æ–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>
            </div>
            {% endif %}
        </div>
    </div>
</div>